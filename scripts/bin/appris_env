#!/bin/bash

# -----------------------------------------------------------------------------
# Main bash script that loads environmental variable

DIRNAME=`dirname $0`
APPRIS_REL_ENV=( 'TST' 'Hsap' 'Mmus' 'Rnor' 'Drer' 'Sscr' 'Dmel' 'Cele' 'Ptro' 'Lpar' )

load_appris_specie_env() {
	local e
	for ((i=0; i < "${#APPRIS_REL_ENV[@]}"; i++)); do
		if [[ "$1" =~ "${APPRIS_REL_ENV[$i]}".* ]]
		then		
			case "${APPRIS_REL_ENV[$i]}" in
				TST* )
					echo "source ${DIRNAME}/../../test/conf/apprisrc.$1"
					source ${DIRNAME}/../../test/conf/apprisrc.$1
					echo "source ${DIRNAME}/../../test/conf/ensemblrc"
					source ${DIRNAME}/../../test/conf/ensemblrc
					;;
				* )
					echo "source ${DIRNAME}/../conf/apprisrc.$1"
					source ${DIRNAME}/../conf/apprisrc.$1
					echo "source ${DIRNAME}/../conf/ensemblrc"
					source ${DIRNAME}/../conf/ensemblrc
					;;				
			esac				
		fi
	done
}

load_species_env() {
	local e
	case "$1" in
		TST* )
			echo "source ${DIRNAME}/../../test/conf/apprisrc.$1"
			source ${DIRNAME}/../../test/conf/apprisrc.$1
			echo "source ${DIRNAME}/../../test/conf/ensemblrc"
			source ${DIRNAME}/../../test/conf/ensemblrc			
			;;
		* )
			echo "source ${DIRNAME}/../conf/apprisrc.$1"
			source ${DIRNAME}/../conf/apprisrc.$1
			echo "source ${DIRNAME}/../conf/ensemblrc"
			source ${DIRNAME}/../conf/ensemblrc			
			;;				
	esac				
}

prepare_workspace() {
	mkdir -p $1
}